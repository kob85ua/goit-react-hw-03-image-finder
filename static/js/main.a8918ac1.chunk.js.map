{"version":3,"sources":["components/Searchbar/StyledSbar.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/StyledImgGal&Item.js","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/StyledBtn.js","components/Button/Button.jsx","components/Loader/StyledLoader.js","components/Loader/Loader.jsx","components/Modal/StyledModal.js","components/Modal/Modal.jsx","services/imagesApi.js","App.js","services/APIkey.js","index.js"],"names":["SearchbarStyled","styled","header","SearchForm","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryStyled","ul","ImageGalleryItemStyled","li","ImageGalleryItemImage","img","ImageGalleryItem","id","webformatURL","tags","onModalOpen","key","src","alt","onClick","ImageGallery","images","map","LoadMoreBtn","Button","onLoadMore","LoaderWrapper","div","LoaderBlock","color","height","width","timeout","Overlay","ModalStyled","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","children","fetchImagesWithQuery","searchQuery","page","APIkey","a","axios","get","response","data","hits","App","isLoading","error","showModal","modalImgUrl","scrollToWindow","scrollTo","top","document","documentElement","scrollHeight","behavior","urlForModal","openModalAndSetUrl","eTarget","console","log","undefined","find","largeImageURL","closeModal","fetchImages","imagesApi","then","prevState","catch","finally","handleSearchBarSubmit","query","prevProps","className","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8918ac1.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\nexport {\n  SearchbarStyled,\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n};\n","import React, { Component } from \"react\";\nimport {\n  SearchbarStyled,\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n} from \"./StyledSbar\";\nclass Searchbar extends Component {\n  state = {\n    inputValue: \"\",\n  };\n  handleChange = (e) => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n\n  render() {\n    return (\n      <SearchbarStyled>\n        <SearchForm onSubmit={this.handleSubmit}>\n          <SearchFormButton type=\"submit\">\n            <SearchFormButtonLabel>Search</SearchFormButtonLabel>\n          </SearchFormButton>\n\n          <SearchFormInput\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n          />\n        </SearchForm>\n      </SearchbarStyled>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styled from \"styled-components\";\n\nconst ImageGalleryStyled = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 100px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst ImageGalleryItemStyled = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nconst ImageGalleryItemImage = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\nexport { ImageGalleryStyled, ImageGalleryItemStyled, ImageGalleryItemImage };\n","import React from \"react\";\nimport {\n  ImageGalleryItemStyled,\n  ImageGalleryItemImage,\n} from \"./StyledImgGal&Item\";\nconst ImageGalleryItem = ({ id, webformatURL, tags, onModalOpen }) => (\n  <ImageGalleryItemStyled key={id}>\n    <ImageGalleryItemImage\n      src={webformatURL}\n      alt={tags}\n      onClick={onModalOpen}\n    />\n  </ImageGalleryItemStyled>\n);\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport { ImageGalleryStyled } from \"./StyledImgGal&Item\";\nconst ImageGallery = ({ images, onModalOpen }) => (\n  <ImageGalleryStyled>\n    {images.map(({ id, webformatURL, tags }) => (\n      <ImageGalleryItem\n        id={id}\n        webformatURL={webformatURL}\n        tags={tags}\n        onModalOpen={onModalOpen}\n      ></ImageGalleryItem>\n    ))}\n  </ImageGalleryStyled>\n);\n\nexport default ImageGallery;\n","import styled from \"styled-components\";\n\nconst LoadMoreBtn = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  width: 20%;\n  margin-left: auto;\n  margin-right: auto;\n  &:hover,\n  :focus {\n    background-color: #303f9f;\n  }\n`;\nexport default LoadMoreBtn;\n","import React from \"react\";\nimport LoadMoreBtn from \"./StyledBtn\";\nconst Button = ({ onLoadMore }) => {\n  return <LoadMoreBtn onClick={onLoadMore}>Load more</LoadMoreBtn>;\n};\nexport default Button;\n","import styled from \"styled-components\";\n\nconst LoaderWrapper = styled.div`\n  width: 20%;\n\n  align-self: center;\n  justify-self: center;\n`;\nexport default LoaderWrapper;\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport LoaderWrapper from \"./StyledLoader\";\nexport default class LoaderBlock extends Component {\n  //other logic\n  render() {\n    return (\n      <LoaderWrapper>\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={150}\n          width={150}\n          timeout={3000}\n        />\n      </LoaderWrapper>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nconst ModalStyled = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 48px);\n`;\nexport { Overlay, ModalStyled };\n","import React, { Component } from \"react\";\nimport { ModalStyled, Overlay } from \"./StyledModal\";\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return (\n      <Overlay>\n        <ModalStyled>{this.props.children}</ModalStyled>\n      </Overlay>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from \"axios\";\n\nconst fetchImagesWithQuery = async (searchQuery, page, APIkey) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${APIkey}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response.data.hits;\n};\n\nexport default {\n  fetchImagesWithQuery,\n};\n","import React, { Component } from \"react\";\n\nimport \"./components/styles.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport LoaderBlock from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport APIkey from \"./services/APIkey\";\nimport imagesApi from \"./services/imagesApi\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n    modalImgUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    if (prevState.page !== this.state.page && this.state.page !== 2) {\n      this.scrollToWindow();\n    }\n    if (prevState.modalImgUrl !== this.state.modalImgUrl) {\n      this.urlForModal();\n    }\n  }\n  scrollToWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  urlForModal = () => {\n    return this.state.modalImgUrl;\n  };\n  openModalAndSetUrl = (eTarget) => {\n    console.log(eTarget);\n    if (eTarget !== undefined) {\n      this.setState((state) => ({\n        modalImgUrl: state.images.find(\n          ({ webformatURL }) => webformatURL === eTarget.src\n        ).largeImageURL,\n        showModal: true,\n      }));\n    }\n  };\n  closeModal = () => {\n    this.setState({ showModal: false, modalImgUrl: \"\" });\n  };\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ isLoading: true });\n    imagesApi\n      .fetchImagesWithQuery(searchQuery, page, APIkey)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSearchBarSubmit = (query) => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n  render() {\n    const { isLoading, images, error, showModal } = this.state;\n    const urlForModal = this.urlForModal();\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchBarSubmit}> </Searchbar>\n\n        {images.length > 0 && (\n          <ImageGallery\n            images={images}\n            onModalOpen={(e) => this.openModalAndSetUrl(e.target)}\n          />\n        )}\n        {showModal && (\n          <Modal onClose={this.closeModal} onClick={this.closeModal}>\n            <img src={urlForModal} alt=\"Modal\" />\n          </Modal>\n        )}\n        {images.length > 0 && !isLoading && (\n          <Button onLoadMore={this.fetchImages}>Load more</Button>\n        )}\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {isLoading && <LoaderBlock></LoaderBlock>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const APIkey = \"17820819-7325a21fc26dbd04468dfd17d\";\nexport default APIkey;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}